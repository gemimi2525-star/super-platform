# Release Note — v0.32.4 (Phase 32.5)

**Date:** 2026-02-17
**Commit:** `3159a7c16cfd98b77d65b9f4b8c97f0bed477605`
**Tag:** `v0.32.4`

---

## Summary

Phase 32.5 wires SYNAPSE governance checks into the integrity endpoint, replacing the `GOVERNANCE_UNKNOWN` stub with real kernel-freeze and hash-chain verification.

## Changes

| File | Change |
|---|---|
| `lib/ops/integrity/checkGovernance.ts` | **NEW** — reads `CORE_FREEZE.md` + `AuditLedger.verifyChain()` |
| `lib/ops/integrity/getIntegrity.ts` | Replaced stub with real import; removed `'unknown'` type |
| `next.config.ts` | Added `outputFileTracingIncludes` for `CORE_FREEZE.md` |
| `app/api/ops/about/route.ts` | Phase `32.4` → `32.5` |
| `coreos/ops/integrity-governance.test.ts` | **NEW** — 12 test cases (all pass) |
| `package.json` | `0.32.3` → `0.32.4` |

## Baseline Invariants

These invariants **must hold** for every production deployment going forward:

```json
{
  "status": "OK",
  "checks": {
    "governance": {
      "kernelFrozen": true,
      "hashValid": true,
      "ok": true
    }
  },
  "errorCodes": []
}
```

### Specific invariants:

1. `integrity.status` must be `"OK"`
2. `governance.kernelFrozen` must be `true` (CORE_FREEZE.md present and contains `FROZEN`)
3. `governance.hashValid` must be `true` (AuditLedger hash chain intact)
4. `errorCodes` must be `[]` (empty array)
5. `build-info.shaResolved` must be `true`
6. `build-info.commit` must match `integrity.build.sha` (full vs short)

### Verified Production Response

```json
{
  "commit": "3159a7c16cfd98b77d65b9f4b8c97f0bed477605",
  "version": "0.32.4",
  "shaResolved": true
}
```

```json
{
  "status": "OK",
  "checks": {
    "firebase": { "ok": true, "latencyMs": 472, "mode": "firestore" },
    "auth": { "mode": "REAL", "ok": true },
    "governance": { "kernelFrozen": true, "hashValid": true, "ok": true },
    "build": { "sha": "3159a7c", "lockedTag": "v0.32.4", "ok": true }
  },
  "errorCodes": [],
  "phase": "32.5",
  "version": "v0.32.4"
}
```
